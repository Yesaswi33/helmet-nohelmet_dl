<!DOCTYPE html>
<html>
<head>
  <title>Helmet Detection Hybrid Model</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <nav class="navbar">
    <h1>Helmet Detection</h1>
    <p>
      Model: Hybrid Ensemble (ResNet50 + MobileNetV2 + EfficientNetB0)<br>
      Input Size: 256x256 | Framework: TensorFlow
    </p>
  </nav>
  <div class="container">
    <form action="/" enctype="multipart/form-data" method="post" id="uploadForm">
      <div id="drop-area">
        <p>Drag & Drop your image here<br>or click to select</p>
        <input type="file" name="file" id="fileElem" accept="image/*" required>
      </div>
      <button type="submit">Predict</button>
    </form>

{% if result %}
  <div class="result-box">
    <h4>Prediction Result</h4>
    <p>
      <strong></strong>
      <span class="predicted-class">
        {% if result.class == "with_helmet" %}
          Wearing Helmet
        {% else %}
          Not Wearing Helmet
        {% endif %}
      </span>
    </p>
    <p><strong></strong> {{ result.confidence }}</p>
  </div>
{% endif %}



  <script>
    const dropArea = document.getElementById('drop-area');
    const fileInput = document.getElementById('fileElem');

    dropArea.addEventListener('click', () => fileInput.click());

    dropArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropArea.classList.add('highlight');
    });

    dropArea.addEventListener('dragleave', () => {
      dropArea.classList.remove('highlight');
    });

    dropArea.addEventListener('drop', (e) => {
      e.preventDefault();
      dropArea.classList.remove('highlight');
      const files = e.dataTransfer.files;
      if (files.length) {
        fileInput.files = files;
      }
    });
  </script>
</body>
</html>
